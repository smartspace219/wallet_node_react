(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{dfb6232eea6aed68a3ce:function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),o=r.n(n),a=r("a28fc3c963a1d4d1a2e5"),i=r("827b7ceda1a04371490c"),c=r("da310028ba2a28510514"),u=r("f474c75d9da68c034eae"),s=r("7f6f1d74f1e2335921b8"),l=r("bf479727ef34adb276a5"),f=r("6b20a4038fb2adfb033d"),p=r("d7dd51e1bf6bfc2c9c3d"),d=r("46160e2b7f8d44428214"),h=r("5ab8365ac36c5dd588cb"),b=r("6c68d13fe9e3e77d8fc4"),y=r("3ad3c1378076e862aab0"),v="APP/Profile/MultiFactorAuth/ENABLE_2FA_AUTH_REQUEST",m="APP/Profile/MultiFactorAuth/ENABLE_2FA_AUTH_SUCCESS",g="APP/Profile/MultiFactorAuth/ENABLE_2FA_AUTH_FAILURE",_="APP/Profile/MultiFactorAuth/VERIFY_MULTI_FACTOR_AUTH_REQUEST",O="APP/Profile/MultiFactorAuth/VERIFY_MULTI_FACTOR_AUTH_SUCCESS",E="APP/Profile/MultiFactorAuth/VERIFY_MULTI_FACTOR_AUTH_FAILURE",A="APP/Profile/MultiFactorAuth/GET_MULTI_FACTOR_AUTH_REQUEST",j="APP/Profile/MultiFactorAuth/GET_MULTI_FACTOR_AUTH_FAILURE",P="APP/Profile/MultiFactorAuth/DISABLE_MULTI_FACTOR_AUTH_REQUEST",w="APP/Profile/MultiFactorAuth/DISABLE_MULTI_FACTOR_AUTH_SUCCESS",S="APP/Profile/MultiFactorAuth/DISABLE_MULTI_FACTOR_AUTH_FAILURE",R="APP/Profile/MultiFactorAuth/GET_RECOVERY_CODES_REQUEST",F="APP/Profile/MultiFactorAuth/GET_RECOVERY_CODES_SUCCESS",C="APP/Profile/MultiFactorAuth/GET_RECOVERY_CODES_FAILURE",L="APP/Profile/MultiFactorAuth/SEND_EMAIL_WITH_MFA_RECOVERY_REQUEST",x="APP/Profile/MultiFactorAuth/GENERATE_RECOVERY_CODE_REQUEST",T="APP/Profile/BasicInfo/LOAD_BASIC_INFO_REQUEST",I=r("371a6f90cf4b090759be"),M=Object(I.a)(v,"payload"),k=Object(I.a)(m,"response"),U=Object(I.a)(g,"error"),N=Object(I.a)(T,"userEmail"),D=Object(I.a)("APP/Profile/BasicInfo/LOAD_BASIC_INFO_SUCCESS","response"),q=Object(I.a)("APP/Profile/BasicInfo/LOAD_BASIC_INFO_FAILURE","error");var G=Object(I.a)(O,"response"),H=Object(I.a)(E,"error"),B=Object(I.a)(R),Y=Object(I.a)(F,"response"),V=Object(I.a)(C,"error"),J=Object(I.a)(x,"userId"),Q=Object(I.a)("APP/Profile/MultiFactorAuth/GENERATE_RECOVERY_CODE_SUCCESS","response"),W=Object(I.a)("APP/Profile/MultiFactorAuth/GENERATE_RECOVERY_CODE_FAILURE","error"),$=Object(I.a)(L,"userId"),z=Object(I.a)("APP/Profile/MultiFactorAuth/SEND_EMAIL_WITH_MFA_RECOVERY_SUCCESS","response"),K=Object(I.a)("APP/Profile/MultiFactorAuth/SEND_EMAIL_WITH_MFA_RECOVERY_FAILURE","error"),X=Object(I.a)(A),Z=Object(I.a)("APP/Profile/MultiFactorAuth/GET_MULTI_FACTOR_AUTH_SUCCESS","response"),ee=Object(I.a)(j,"error"),te=Object(I.a)(P,"payload"),re=Object(I.a)(w,"response"),ne=Object(I.a)(S,"error"),oe=r("384d9479bdc5794993e1"),ae=r("8636a5b0e6ac43ae8b4d"),ie=r("6542cd13fd5dd1bcffd4"),ce=r("278a8afb137fef007e00");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(){se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new P(o||[]);return n(i,"_invoke",{value:O(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function d(){}function h(){}var b={};u(b,a,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(w([])));v&&v!==t&&r.call(v,a)&&(b=v);var m=h.prototype=p.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var o;n(this,"_invoke",{value:function(n,a){function i(){return new t((function(o,i){!function n(o,a,i,c){var u=l(e[o],e,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==ue(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(n,a,o,i)}))}return o=o?o.then(i,i):i()}})}function O(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(_.prototype),u(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(m),u(m,c,"Generator"),u(m,a,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=w,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:w(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var le=se().mark(Pe),fe=se().mark(we),pe=se().mark(Se),de=se().mark(Re),he=se().mark(Fe),be=se().mark(Ce),ye=se().mark(Le),ve=se().mark(xe),me=se().mark(Te),ge=se().mark(Ie),_e=se().mark(Me),Oe=se().mark(ke);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(){var e,t;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(b.g)(O);case 2:return r.next=4,Object(b.f)(Object(ie.d)());case 4:return e=r.sent,t=Ae(Ae({},t=e.toJS()),{},{multi_factor_auth_enable:!0}),r.next=9,Object(b.e)(Object(oe.o)(t));case 9:case"end":return r.stop()}}),le)}function we(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),fe)}function Se(){var e,t;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(b.g)(w);case 2:return r.next=4,Object(b.f)(Object(ie.d)());case 4:return e=r.sent,t=Ae(Ae({},t=e.toJS()),{},{multi_factor_auth_enable:!1}),r.next=9,Object(b.e)(Object(oe.o)(t));case 9:case"end":return r.stop()}}),pe)}function Re(e){var t,r,n,o;return se().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=Object(ce.a)(),r=e.payload.totp_token,n=e.email,a.next=4,Object(b.d)(Pe);case 4:return o=a.sent,a.next=7,Object(b.d)(ae.a.post("verify_otp/",G,H,{email:n,otp:r},t));case 7:return a.next=9,Object(b.g)([y.LOCATION_CHANGE,E]);case 9:return a.next=11,Object(b.c)(o);case 11:case"end":return a.stop()}}),de)}function Fe(){var e,t;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=Object(ce.a)(),r.next=3,Object(b.d)(we);case 3:return t=r.sent,r.next=6,Object(b.d)(ae.a.get("multi-factor-auth/totp-setup",Z,ee,e));case 6:return r.next=8,Object(b.g)([y.LOCATION_CHANGE,j]);case 8:return r.next=10,Object(b.c)(t);case 10:case"end":return r.stop()}}),he)}function Ce(e){var t,r,n,o,a;return se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=Object(ce.a)(),r=e.payload,n=r.userEmail,o=r.totp_token,i.next=4,Object(b.d)(Se);case 4:return a=i.sent,i.next=7,Object(b.d)(ae.a.post("disable_2fa/",re,ne,{email:n,otp:o},t));case 7:return i.next=9,Object(b.g)([y.LOCATION_CHANGE,S]);case 9:return i.next=11,Object(b.c)(a);case 11:case"end":return i.stop()}}),be)}function Le(){var e;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(ce.a)(),t.next=3,Object(b.d)(ae.a.get("multi-factor-auth/recovery-code/get",Y,V,e));case 3:case"end":return t.stop()}}),ye)}function xe(e){var t;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(ce.a)(),r.next=3,Object(b.b)(ae.a.get("multi-factor-auth/recovery-code/send/".concat(e.userId),z,K,t));case 3:case"end":return r.stop()}}),ve)}function Te(e){var t;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(ce.a)(),r.next=3,Object(b.b)(ae.a.put("multi-factor-auth/generate/recovery-code/".concat(e.userId),Q,W,{_id:e.userId},t));case 3:case"end":return r.stop()}}),me)}function Ie(e){var t,r;return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(ce.a)(),r=e.userEmail,n.next=4,Object(b.b)(ae.a.post("get_general_info/",D,q,{email:r},t));case 4:case"end":return n.stop()}}),ge)}function Me(e){var t;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Object(ce.a)(),r.next=3,Object(b.d)(ae.a.post("enable_2fa/",k,U,e.payload,t));case 3:return r.next=5,Object(b.g)([y.LOCATION_CHANGE,g]);case 5:case"end":return r.stop()}}),_e)}function ke(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.h)(A,Fe);case 2:return e.next=4,Object(b.h)(v,Me);case 4:return e.next=6,Object(b.h)(_,Re);case 6:return e.next=8,Object(b.h)(P,Ce);case 8:return e.next=10,Object(b.h)(R,Le);case 10:return e.next=12,Object(b.h)(L,xe);case 12:return e.next=14,Object(b.h)(x,Te);case 14:return e.next=16,Object(b.h)(T,Ie);case 16:case"end":return e.stop()}}),Oe)}var Ue=r("54f683fcda7806277002"),Ne=r("62cade0222f879de1092");function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===De(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be=Object(Ue.fromJS)({requesting:!1,basicInfoRequesting:!1,isLoading:!1,response:null,error:null,qrPath:"",recoveryCodes:[],recovery_code_generated_on:"",message:"",secret:"",user:{}});var Ye,Ve,Je,Qe,We,$e,ze,Ke,Xe,Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case v:case P:case _:case R:case L:case x:return e.merge({requesting:!0,response:null,error:null,message:"",isLoading:!0});case T:return e.merge({basicInfoRequesting:!0,response:null,error:null,message:"",isLoading:!0});case"APP/Profile/BasicInfo/LOAD_BASIC_INFO_SUCCESS":return e.merge({isLoading:!1,basicInfoRequesting:!1,error:null,response:null,success:!0,user:t.response.data&&t.response.data.userInfo&&Object(Ue.fromJS)(t.response.data.userInfo)});case j:case g:case S:case E:case C:case"APP/Profile/MultiFactorAuth/SEND_EMAIL_WITH_MFA_RECOVERY_FAILURE":case"APP/Profile/MultiFactorAuth/GENERATE_RECOVERY_CODE_FAILURE":return e.merge({response:null,error:t.error.message,isLoading:!1});case"APP/Profile/MultiFactorAuth/GET_MULTI_FACTOR_AUTH_SUCCESS":return e.merge({isLoading:!1,error:null,response:null,qrPath:t.response.data.qrcode.path,secret:t.response.data.secret});case m:return e.merge({isLoading:!1,error:null,response:null,qrPath:t.response.data.otp_url});case F:return e.merge({isLoading:!1,recoveryCodes:t.response.data.recovery_codes,recovery_code_generated_on:t.response.data.generated_on});case"APP/Profile/MultiFactorAuth/GENERATE_RECOVERY_CODE_SUCCESS":return e.merge({isLoading:!1,recoveryCodes:t.response.data.backup_recovery_codes,response:t.response.message,recovery_code_generated_on:t.response.data.generated_on});case"APP/Profile/MultiFactorAuth/SEND_EMAIL_WITH_MFA_RECOVERY_SUCCESS":return e.merge({isLoading:!1,response:t.response.message});case w:return e.merge({isLoading:!1,error:null,response:t.response.message}).updateIn(["user"],(function(e){var t=e.toJS();return Object(Ue.fromJS)(Ge(Ge({},t),{},{multi_factor_auth_enable:!1}))}));case O:return e.merge({isLoading:!1,error:null,response:t.response.message}).updateIn(["user"],(function(e){var t=e.toJS();return Object(Ue.fromJS)(Ge(Ge({},t),{},{multi_factor_auth_enable:!0}))}));case Ne.t:return Be;default:return e}},et=r("adc20f99e57c573c589c"),tt=r("d95b0cf107403b178365"),rt=r("ab4cb61bcb2dc161defb"),nt=r("9683455beae561750395"),ot=r("d559af73313ecb218818"),at=r.n(ot),it=r("c34c7d5c307e1dafdb1e"),ct=r.n(it),ut=function(e){return e.get("addMultiFactorAuth")},st=r("df4d709115ae1aca60ef"),lt=r("7286e4d32da69e8d8af9");function ft(e,t,r,n){Xe||(Xe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:Xe,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,At(n.key),n)}}function vt(e,t){return(vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ot(e);if(t){var o=Ot(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gt(this,r)}}function gt(e,t){if(t&&("object"===pt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,r){return(t=At(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e){var t=function(e,t){if("object"!==pt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pt(t)?t:String(t)}var jt=Object(a.b)({user:Object(a.a)(ut,(function(e){return e.get("user")})),confirmUpdateMultiFactorAuth:Object(a.a)(ut,(function(e){return e})),enable2FAResponse:Object(a.a)(ut,(function(e){return e.get("qrPath")})),successResponse:Object(a.a)(ut,(function(e){return e.get("response")})),errorResponse:Object(a.a)(ut,(function(e){return e.get("error")})),isRequesting:Object(a.a)(ut,(function(e){return e.get("isLoading")})),basicInfoRequesting:Object(a.a)(ut,(function(e){return e.get("basicInfoRequesting")})),recoveryCodes:Object(a.a)(ut,(function(e){return e.get("recoveryCodes")})),message:Object(a.a)(ut,(function(e){return e.get("message")})),recovery_code_generated_on:Object(a.a)(ut,(function(e){return e.get("recovery_code_generated_on")}))}),Pt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}(a,e);var t,r,n,o=mt(a);function a(){var e;bt(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Et(_t(e=o.call.apply(o,[this].concat(r))),"state",{data:{totp_token:""},multiFactorAuth:e.props.user&&e.props.user.get("multi_factor_auth_enable"),showMultiFactorAuthDisable:!1,errors:{},recoveryCodes:[],message:{},user:{},userEmail:""}),Et(_t(e),"handleCheckBox",(function(){e.setState({multiFactorAuth:!e.state.multiFactorAuth},(function(){if(this.state.multiFactorAuth){var e=this.state.userEmail;this.props.enable2faAuthRequest({email:e,reenable:!1})}}))})),Et(_t(e),"handleSubmit",(function(t){t.preventDefault();var r=e.state,n=r.data,o=r.userEmail,a=e.props.confirmUpdateMultiFactorAuth.get("secret"),i=e.validate();e.setState({errors:i}),0===Object.keys(i).length&&(e.props.verifyMultiFactorAuthRequest({data:n,userEmail:o,secret:a}),e.setState({isLoading:!0,data:{totp_token:"",userEmail:o},errors:{}}))})),Et(_t(e),"validate",(function(){var t={};return e.state.data.totp_token||(t.totp_token="Can't be blank"),t})),Et(_t(e),"handleChange",(function(t){var r=e.state.errors;r[t.target.name]&&t.target.value&&delete r[t.target.name],e.setState({data:ht(ht({},e.state.data),{},Et({},t.target.name,t.target.value)),errors:r})})),Et(_t(e),"changeMultiFactorAuthStatus",(function(){e.setState({showMultiFactorAuthDisable:!e.state.showMultiFactorAuthDisable})})),Et(_t(e),"disableMultiFactorAuthRequest",(function(){var t=e.state,r=t.userEmail,n=t.data.totp_token;e.props.disableMultiFactorAuthRequest({userEmail:r,totp_token:n})})),Et(_t(e),"generateRecoveryCodeRequest",(function(){e.props.generateRecoveryCodeRequest(e.props.user.get("_id"))})),Et(_t(e),"sendMultiFactorRecoveryCodesEmailRequest",(function(){e.props.sendMultiFactorRecoveryCodesEmailRequest(e.props.user.get("_id"))})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;Object(d.a)()._id&&this.props.getRecoveryCodesRequest();var t=Object(ce.a)();if(t)try{var r=at()(t);if("object"===pt(r)&&r.hasOwnProperty("user_id")){var n=r.email;this.setState({userEmail:n||""},(function(){e.props.loadBasicInfoRequest(e.state.userEmail)}))}}catch(e){throw e}}},{key:"componentDidUpdate",value:function(e){if(this.props.errorResponse&&e.errorResponse!==this.props.errorResponse&&lt.toast.error(this.props.errorResponse?this.props.errorResponse:"error"),this.props.user&&this.props.user&&this.props.user.get("multi_factor_auth_enable")!==e.user.get("multi_factor_auth_enable")&&this.setState({multiFactorAuth:this.props.user.get("multi_factor_auth_enable"),showMultiFactorAuthDisable:!1}),e.user!==this.props.user){var t=this.props.user.toJS();this.setState({user:t,multiFactorAuth:this.props.user&&this.props.user.get("multi_factor_auth_enable")})}}},{key:"render",value:function(){var e=this.state,t=e.multiFactorAuth,r=e.showMultiFactorAuthDisable,n=e.data,o=e.errors,a=this.props,p=a.successResponse,d=a.errorResponse,b=a.isRequesting,y=a.basicInfoRequesting;return a.recoveryCodes,a.user,p&&"string"===typeof p&&st.a,d&&"string"===typeof d&&st.a,ft("div",{},void 0,y?Ye||(Ye=ft("div",{className:"loader_wallet"})):ft(i.a,{className:"p-4"},void 0,this.props.user&&this.props.user.get("multi_factor_auth_enable")&&ft("div",{},void 0,!r&&ft("div",{},void 0,ft("div",{className:"field mg-btm-sm"},void 0,ft("label",{className:"custom-control custom-checkbox"},void 0,ft("input",{name:"multiFactorAuth",className:"custom-control-input",type:"checkbox",checked:this.props.user&&this.props.user.get("multi_factor_auth_enable")||!1,disabled:!0}),Ve||(Ve=ft("span",{className:"custom-control-indicator"}))," ",Je||(Je=ft("span",{className:"custom-control-description"},void 0,"Two Factor Auth Enabled"))," ")),Qe||(Qe=ft("br",{})),ft(c.a,{negative:!0,onClick:this.changeMultiFactorAuthStatus},void 0,"Disable Two Factor Auth")),r&&ft("div",{},void 0,ft("div",{className:"form__elements"},void 0,We||(We=ft("p",{},void 0,"Do you want to disable two factor auth?")),ft(nt.a,{className:"totp__input",type:"text",name:"totp_token",placeholder:"Token...",value:n.totp_token||"",onChange:this.handleChange,error:o.totp_token}),$e||($e=ft("br",{})),ft(c.a,{className:"button positive",onClick:this.disableMultiFactorAuthRequest,loading:b,disabled:b},void 0,"Yes, Disable"),ft(c.a,{className:"button basic",onClick:this.changeMultiFactorAuthStatus},void 0,"Cancel")))),this.props.user&&!this.props.user.get("multi_factor_auth_enable")&&ft("div",{className:"field"},void 0,ft(u.a,{label:"Enable Two Factor Auth",name:"multiFactorAuth",onClick:this.handleCheckBox,checked:t,toggle:!0}),ft(s.a,{trigger:ft(l.a,{style:{marginLeft:"8px"},name:"info",color:"yellow",circular:!0}),content:"Add additional security to your account using two factor authentication. When two factor authentication is enabled, each time you login, you will be prompted for a secure random token. You may retrieve this token from your phone's Google Authenticator application or any other authenticator app.",position:"top right"}),t&&ft("div",{className:"mg-top-sm"},void 0,ze||(ze=ft("div",{className:"message info"},void 0,ft("br",{}),"Scan the following QR code with any authenticator App.",ft("br",{}),ft("a",{className:"mg-right-sm",target:"_blank",href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"},void 0,ft("img",{src:""})),ft("a",{target:"_blank",href:"https://itunes.apple.com/us/app/google-authenticator/id388497605"},void 0,ft("img",{src:""})))),this.props.enable2FAResponse&&ft(ct.a,{value:this.props.enable2FAResponse}),ft("div",{},void 0,Ke||(Ke=ft("br",{})),ft(f.a,{onSubmit:this.handleSubmit},void 0,ft(h.a,{type:"text",name:"totp_token",value:n.totp_token,onChange:this.handleChange,placeholder:"Enter the token from authenticator app",error:o.totp_token&&o.totp_token}),ft(c.a,{type:"submit",loading:b,disabled:b},void 0,"Verify")))))))}}])&&yt(t.prototype,r),n&&yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.Component),wt=Object(tt.a)({key:"addMultiFactorAuth",reducer:Ze}),St=Object(et.a)({key:"addMultiFactorAuth",saga:ke}),Rt=Object(p.connect)(jt,(function(e){return{getMultiFactorAuthRequest:function(){return e(X())},enable2faAuthRequest:function(t){return e(M(t))},getRecoveryCodesRequest:function(){return e(B())},generateRecoveryCodeRequest:function(t){return e(J(t))},sendMultiFactorRecoveryCodesEmailRequest:function(t){return e($(t))},verifyMultiFactorAuthRequest:function(t){return e({type:_,payload:(r=t).data,email:r.userEmail,secret:r.secret});var r},disableMultiFactorAuthRequest:function(t){return e(te(t))},loadBasicInfoRequest:function(t){return e(N(t))}}}));t.default=Object(rt.compose)(wt,St,Rt)(Pt)}}]);