(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"700d37d69db61e880051":function(e,t,r){"use strict";r.r(t),r.d(t,"HelpDesk",(function(){return ir}));var s,c,a,i,o,n,u,p,l=r("8af190b70a6bc55c6f1b"),g=r.n(l),S=r("ab4cb61bcb2dc161defb"),f=r("d7dd51e1bf6bfc2c9c3d"),d=r("0d7f0986bcd2f33d8a2a"),T=r("7286e4d32da69e8d8af9"),h=r("a28fc3c963a1d4d1a2e5"),k=r("38da100d4dbff685f9ce"),b=r("da310028ba2a28510514"),y=r("344977176ae9f8bae630"),v=r("7c8fca7d16f10dc3ca35"),m=r("6b20a4038fb2adfb033d"),O=r("800f762ddd9d7e8466d6"),R=r("bf479727ef34adb276a5"),_=r("2b8f49302ad2a05bdc68"),M=r("2a75d1bf8961d1e9e83c"),C=r("7f6f1d74f1e2335921b8"),j=r("8e2804b627897096cb2a"),F=r.n(j);function E(e,t,r,s){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var c=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=s;else if(a>1){for(var i=new Array(a),o=0;o<a;o++)i[o]=arguments[o+3];t.children=i}if(t&&c)for(var n in c)void 0===t[n]&&(t[n]=c[n]);else t||(t=c||{});return{$$typeof:p,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A,D=function(e){var t=e.onReply,r=e.typedMessage,p=e.messageList,S=e.loadingMessage,f=e.handleOnKeyPress,d=e.handleOnMessageType,T=Object(l.useRef)(null);return Object(l.useEffect)((function(){T.current&&T.current.scrollIntoView({behavior:"smooth",block:"end"})}),[p]),E("div",{},void 0,E("div",{className:"ui segment p-4"},void 0,s||(s=E("h2",{className:"mb-0"},void 0,"Messages")),E("div",{className:"chat__box"},void 0,S&&(c||(c=E(O.a,{info:!0,className:"mt-4",compact:!0},void 0,"Loading All message!!!!"))),!S&&p&&0===p.length&&(a||(a=E(O.a,{info:!0,className:"mt-4",compact:!0},void 0,"No conversation started yet!!!!"))),p&&p.length>0&&p.map((function(e,t){return e.is_admin_message?E("div",{className:"d-flex  py-2 px-3 "},t,i||(i=E("div",{className:"image__icon mr-2"},void 0,E("img",{className:"img-fluid",src:F.a,alt:""}))),E("div",{},void 0,o||(o=E("span",{className:"primary px-2"},void 0,"Admin")),E("p",{className:"gray-300 chat__message "},void 0,e.message))):E("div",{className:"d-flex py-2 px-3 flex-row-reverse"},t,n||(n=E("div",{className:"image__icon ml-2"},void 0,E("img",{className:"img-fluid",src:F.a,alt:""}))),E("div",{className:"text-right"},void 0,u||(u=E("span",{className:"primary px-2"},void 0,"Customer")),E("p",{className:"white chat__message chat__message--reply"},void 0,e.message)))})),g.a.createElement("div",{ref:T})),E(_.a,{},void 0,E(_.a.Row,{},void 0,E(_.a.Column,{width:14},void 0,E(M.a,{fluid:!0,iconPosition:"left",placeholder:"Reply",icon:"paper plane outline",onChange:d,onKeyPress:f,value:r||""})),E(_.a.Column,{width:2},void 0,E(b.a,{className:"mt-2",onClick:t},void 0,"Reply"))))))},U=r("a444b8d423fb8737d1fa");function w(e,t,r,s){A||(A="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var c=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=s;else if(a>1){for(var i=new Array(a),o=0;o<a;o++)i[o]=arguments[o+3];t.children=i}if(t&&c)for(var n in c)void 0===t[n]&&(t[n]=c[n]);else t||(t=c||{});return{$$typeof:A,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=function(e){var t=e.count,r=e.pagelimit,s=e.tableData,c=e.tableHead,a=e.handlePagination,i=e.getAllSupportTicketForUserRequesting;return w("div",{},void 0,w(U.a,{totalData:t,tableData:s,pagelimit:r,tableHead:c,handlePagination:a,totalPages:Math.ceil(t/r),noDataAvailableMsg:"No Data Available.",loading:i}))},P=r("f2619478499dd4aef310"),q=r("9683455beae561750395"),L=r("adc20f99e57c573c589c"),N=r("d95b0cf107403b178365"),x=function(e){return e.get("helpDesk")},H=r("6542cd13fd5dd1bcffd4"),B=r("371a6f90cf4b090759be"),J="app/containers/UserDashboard/HelpDesk/GET_ALL_SUPPORT_TICKET_FOR_USER_REQUEST",K="app/containers/UserDashboard/HelpDesk/CREATE_SUPPORT_TICKET_REQUEST",G="app/containers/UserDashboard/HelpDesk/CREATE_SUPPORT_TICKET_SUCCESS",V="app/containers/UserDashboard/HelpDesk/CREATE_SUPPORT_TICKET_FAILURE",W="app/containers/UserDashboard/HelpDesk/FETCH_SUPPORT_TICKET_CATEGORY_REQUEST",Y="app/containers/UserDashboard/HelpDesk/FETCH_SUPPORT_TICKET_CATEGORY_SUCCESS",Q="app/containers/UserDashboard/HelpDesk/FETCH_SUPPORT_TICKET_CATEGORY_FAILURE",$="app/containers/UserDashboard/HelpDesk/FETCH_TICKET_STATUS_OPTION_REQUEST",z="app/containers/UserDashboard/HelpDesk/FETCH_TICKET_STATUS_OPTION_SUCCESS",X="app/containers/UserDashboard/HelpDesk/FETCH_TICKET_STATUS_OPTION_FAILURE",Z="app/containers/UserDashboard/HelpDesk/UPDATE_SUPPORT_TICKET_STATUS_REQUEST",ee="app/containers/UserDashboard/HelpDesk/UPDATE_SUPPORT_TICKET_STATUS_SUCCESS",te="app/containers/UserDashboard/HelpDesk/UPDATE_SUPPORT_TICKET_STATUS_FAILURE",re="app/containers/UserDashboard/HelpDesk/DELETE_SUPPORT_TICKET_REQUEST",se="app/containers/UserDashboard/HelpDesk/DELETE_SUPPORT_TICKET_SUCCESS",ce="app/containers/UserDashboard/HelpDesk/DELETE_SUPPORT_TICKET_FAILURE",ae="app/containers/UserDashboard/HelpDesk/FETCH_ALL_SPECIFIC_TICKET_MESSAGE_REQUEST",ie="app/containers/UserDashboard/HelpDesk/GET_TICKET_DETAIL_BY_ID_REQUEST",oe="app/containers/UserDashboard/HelpDesk/GET_TICKET_DETAIL_BY_ID_SUCCESS",ne="app/containers/UserDashboard/HelpDesk/GET_TICKET_DETAIL_BY_ID_FAILURE",ue="app/containers/UserDashboard/HelpDesk/REPLY_CHAT_REQUEST",pe="app/containers/UserDashboard/HelpDesk/REPLY_CHAT_SUCCESS",le="app/containers/UserDashboard/HelpDesk/REPLY_CHAT_FAILURE",ge="app/containers/UserDashboard/HelpDesk/LISTEN_NEW_MESSAGE_REQUEST",Se="app/containers/UserDashboard/HelpDesk/LISTEN_NEW_MESSAGE_SUCCESS",fe="app/containers/UserDashboard/HelpDesk/LISTEN_NEW_MESSAGE_FAILURE",de=Object(B.a)(J,"queryParams"),Te=Object(B.a)("app/containers/UserDashboard/HelpDesk/GET_ALL_SUPPORT_TICKET_FOR_USER_SUCCESS","successResponse"),he=Object(B.a)("app/containers/UserDashboard/HelpDesk/GET_ALL_SUPPORT_TICKET_FOR_USER_FAILURE","errorResponse"),ke=Object(B.a)(K,"dataObj","userId"),be=Object(B.a)(G,"successResponse"),ye=Object(B.a)(V,"errorResponse"),ve=Object(B.a)(W),me=Object(B.a)(Y,"successResponse"),Oe=Object(B.a)(Q,"errorResponse"),Re=Object(B.a)("RESET_CREATE_SUPPORT_TICKET_TO_INITIAL_STATE"),_e=Object(B.a)($),Me=Object(B.a)(z,"successResponse"),Ce=Object(B.a)(X,"errorResponse"),je=Object(B.a)(Z,"reqDataObj"),Fe=Object(B.a)(ee,"successResponse"),Ee=Object(B.a)(te,"errorResponse"),Ae=Object(B.a)(re,"ticketId"),De=Object(B.a)(se,"successResponse"),Ue=Object(B.a)(ce,"errorResponse"),we=Object(B.a)(ae,"ticketId"),Ie=Object(B.a)("app/containers/UserDashboard/HelpDesk/FETCH_ALL_SPECIFIC_TICKET_MESSAGE_SUCCESS","successResponse"),Pe=Object(B.a)("app/containers/UserDashboard/HelpDesk/FETCH_ALL_SPECIFIC_TICKET_MESSAGE_FAILURE","errorResponse"),qe=Object(B.a)(ue,"reqObj"),Le=Object(B.a)(pe,"successResponse"),Ne=Object(B.a)(le,"errorResponse"),xe=Object(B.a)(ge,"reqObj"),He=Object(B.a)(Se,"successResponse"),Be=Object(B.a)(fe,"errorResposne"),Je=Object(B.a)("app/containers/UserDashboard/HelpDesk/LISTEN_FIRST_MESSAGE","ticketId"),Ke=Object(B.a)(ie,"reqObj"),Ge=Object(B.a)(ne,"errorResponse"),Ve=Object(B.a)(oe,"successResponse"),We=r("6c68d13fe9e3e77d8fc4"),Ye=r("8636a5b0e6ac43ae8b4d"),Qe=r("278a8afb137fef007e00");function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(){ze=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},a=c.iterator||"@@iterator",i=c.asyncIterator||"@@asyncIterator",o=c.toStringTag||"@@toStringTag";function n(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{n({},"")}catch(e){n=function(e,t,r){return e[t]=r}}function u(e,t,r,c){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),o=new _(c||[]);return s(i,"_invoke",{value:v(e,r,o)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function g(){}function S(){}function f(){}var d={};n(d,a,(function(){return this}));var T=Object.getPrototypeOf,h=T&&T(T(M([])));h&&h!==t&&r.call(h,a)&&(d=h);var k=f.prototype=g.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){n(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var c;s(this,"_invoke",{value:function(s,a){function i(){return new t((function(c,i){!function s(c,a,i,o){var n=p(e[c],e,a);if("throw"!==n.type){var u=n.arg,l=u.value;return l&&"object"==$e(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){s("next",e,i,o)}),(function(e){s("throw",e,i,o)})):t.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return s("throw",e,i,o)}))}o(n.arg)}(s,a,c,i)}))}return c=c?c.then(i,i):i()}})}function v(e,t,r){var s="suspendedStart";return function(c,a){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===c)throw a;return C()}for(r.method=c,r.arg=a;;){var i=r.delegate;if(i){var o=m(i,r);if(o){if(o===l)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===s)throw s="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s="executing";var n=p(e,t,r);if("normal"===n.type){if(s=r.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:r.done}}"throw"===n.type&&(s="completed",r.method="throw",r.arg=n.arg)}}}function m(e,t){var r=t.method,s=e.iterator[r];if(void 0===s)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,m(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var c=p(s,e.iterator,t.arg);if("throw"===c.type)return t.method="throw",t.arg=c.arg,t.delegate=null,l;var a=c.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function M(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,c=function t(){for(;++s<e.length;)if(r.call(e,s))return t.value=e[s],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:C}}function C(){return{value:void 0,done:!0}}return S.prototype=f,s(k,"constructor",{value:f,configurable:!0}),s(f,"constructor",{value:S,configurable:!0}),S.displayName=n(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,o,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(y.prototype),n(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,s,c,a){void 0===a&&(a=Promise);var i=new y(u(t,r,s,c),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(k),n(k,o,"Generator"),n(k,a,(function(){return this})),n(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var s in t)r.push(s);return r.reverse(),function e(){for(;r.length;){var s=r.pop();if(s in t)return e.value=s,e.done=!1,e}return e.done=!0,e}},e.values=M,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function s(r,s){return i.type="throw",i.arg=e,t.next=r,s&&(t.method="next",t.arg=void 0),!!s}for(var c=this.tryEntries.length-1;c>=0;--c){var a=this.tryEntries[c],i=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var o=r.call(a,"catchLoc"),n=r.call(a,"finallyLoc");if(o&&n){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!n)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s];if(c.tryLoc<=this.prev&&r.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var a=c;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var s=r.completion;if("throw"===s.type){var c=s.arg;R(r)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Xe=ze().mark(ut),Ze=ze().mark(pt),et=ze().mark(lt),tt=ze().mark(gt),rt=ze().mark(St),st=ze().mark(ft),ct=ze().mark(dt),at=ze().mark(Tt),it=ze().mark(ht),ot=ze().mark(kt),nt=ze().mark(bt);function ut(e){var t,r,s,c,a;return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.queryParams,r=t.status,s=t.perpage,c=t.currentpage,a=Object(Qe.a)(),i.next=4,Object(We.d)(Ye.a.get("support_ticket/?status=".concat(r,"&perPage=").concat(s,"&currentPage=").concat(c),Te,he,a));case 4:case"end":return i.stop()}}),Xe)}function pt(e){var t,r,s;return ze().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Object(Qe.a)(),r=e.dataObj,s=e.userId,c.next=4,Object(We.d)(Ye.a.post("support_ticket/".concat(s),be,ye,r,t));case 4:case"end":return c.stop()}}),Ze)}function lt(){var e;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(Qe.a)(),t.next=3,Object(We.d)(Ye.a.get("support_ticket_category",me,Oe,e));case 3:case"end":return t.stop()}}),et)}function gt(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.d)(Ye.a.get("ticket_status_options",Me,Ce,""));case 2:case"end":return e.stop()}}),tt)}function St(e){var t,r;return ze().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(Qe.a)(),r=e.reqDataObj,s.next=4,Object(We.d)(Ye.a.post("change-ticket-status/",Fe,Ee,r,t));case 4:case"end":return s.stop()}}),rt)}function ft(e){var t,r;return ze().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(Qe.a)(),r=e.ticketId,s.next=4,Object(We.d)(Ye.a.delete("change-ticket-status/".concat(r),De,Ue,t));case 4:case"end":return s.stop()}}),st)}function dt(e){var t,r;return ze().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(Qe.a)(),r=e.ticketId,s.next=4,Object(We.d)(Ye.a.get("ticket-messages/".concat(r),Ie,Pe,t));case 4:case"end":return s.stop()}}),ct)}function Tt(e){var t,r;return ze().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(Qe.a)(),r=e.reqObj,s.next=4,Object(We.d)(Ye.a.post("ticket-messages/",Le,Ne,r,t));case 4:case"end":return s.stop()}}),at)}function ht(e){var t,r;return ze().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(Qe.a)(),r=e.reqObj,s.next=4,Object(We.d)(Ye.a.get("get-new-ticket-messages?message_id=".concat(r.message_id,"&ticket_id=").concat(r.ticket_id),He,Be,t));case 4:case"end":return s.stop()}}),it)}function kt(e){var t,r;return ze().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(Qe.a)(),r=e.reqObj.ticketId,s.next=4,Object(We.d)(Ye.a.get("cms/support_ticket/?status=&email=&id=".concat(r),Ve,Ge,t));case 4:case"end":return s.stop()}}),ot)}function bt(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.h)(W,lt);case 2:return e.next=4,Object(We.h)(J,ut);case 4:return e.next=6,Object(We.h)(K,pt);case 6:return e.next=8,Object(We.h)($,gt);case 8:return e.next=10,Object(We.h)(Z,St);case 10:return e.next=12,Object(We.h)(re,ft);case 12:return e.next=14,Object(We.h)(ae,dt);case 14:return e.next=16,Object(We.h)(ue,Tt);case 16:return e.next=18,Object(We.h)(ge,ht);case 18:return e.next=20,Object(We.h)("app/containers/UserDashboard/HelpDesk/LISTEN_FIRST_MESSAGE",dt);case 20:return e.next=22,Object(We.h)(ie,kt);case 22:case"end":return e.stop()}}),nt)}var yt=r("54f683fcda7806277002");function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){Rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!==vt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _t(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Ct=Object(yt.fromJS)({getAllSupportTicketForUserResponse:{},getAllSupportTicketForUserSuccess:!1,getAllSupportTicketForUserFailure:!1,getAllSupportTicketForUserSuccessMsg:"",getAllSupportTicketForUserFailureMsg:"",getAllSupportTicketForUserRequesting:!1,createSupportTicketSuccess:!1,createSupportTicketFailure:!1,createSupportTicketSuccessMsg:"",createSupportTicketFailureMsg:"",createSupportTicketRequesting:!1,createSupportTicketSuccessResponse:{},fetchSupportTicketCategoryResponse:[],fetchSupportTicketCategorySuccess:!1,fetchSupportTicketCategoryFailure:!1,fetchSupportTicketCategorySuccessMsg:"",fetchSupportTicketCategoryFailureMsg:"",fetchSupportTicketCategoryRequesting:!1,fetchTicketStatusOptionResponse:[],fetchTicketStatusOptionSuccess:!1,fetchTicketStatusOptionFailure:!1,fetchTicketStatusOptionSuccessMsg:"",fetchTicketStatusOptionFailureMsg:"",fetchTicketStatusOptionRequesting:!1,updateSupportTicketStatusSuccess:!1,updateSupportTicketStatusFailure:!1,updateSupportTicketStatusSuccessMsg:"",updateSupportTicketStatusFailureMsg:"",updateSupportTicketStatusRequesting:!1,deleteSupportTicketSuccess:!1,deleteSupportTicketFailure:!1,deleteSupportTicketSuccessMsg:"",deleteSupportTicketFailureMsg:"",deleteSupportTicketRequesting:!1,fetchAllSpecificTicketMessageResponse:[],fetchAllSpecificTicketMessageSuccess:!1,fetchAllSpecificTicketMessageFailure:!1,fetchAllSpecificTicketMessageSuccessMsg:"",fetchAllSpecificTicketMessageFailureMsg:"",fetchAllSpecificTicketMessageRequesting:!1,replyChatSuccess:!1,replyChatFailure:!1,replyChatSuccessMsg:"",replyChatFailureMsg:"",replyChatRequesting:!1,listenNewMessageResponse:[],listenNewMessageSuccess:!1,listenNewMessageFailure:!1,listenNewMessageSuccessMsg:"",listenNewMessageFailureMsg:"",listenNewMessageRequesting:!1,getTicketDetailByIdResponse:null,getTicketDetailByIdSuccess:!1,getTicketDetailByIdFailure:!1,getTicketDetailByIdSuccessMsg:"",getTicketDetailByIdFailureMsg:"",getTicketDetailByIdRequesting:!1});var jt,Ft,Et,At,Dt,Ut,wt,It,Pt,qt,Lt,Nt,xt,Ht,Bt,Jt,Kt,Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return e.merge({getAllSupportTicketForUserResponse:{},getAllSupportTicketForUserSuccess:!1,getAllSupportTicketForUserFailure:!1,getAllSupportTicketForUserSuccessMsg:"",getAllSupportTicketForUserFailureMsg:"",getAllSupportTicketForUserRequesting:!0});case"app/containers/UserDashboard/HelpDesk/GET_ALL_SUPPORT_TICKET_FOR_USER_SUCCESS":return e.merge({getAllSupportTicketForUserSuccess:!0,getAllSupportTicketForUserSuccessMsg:"",getAllSupportTicketForUserRequesting:!1,getAllSupportTicketForUserResponse:t.successResponse});case"app/containers/UserDashboard/HelpDesk/GET_ALL_SUPPORT_TICKET_FOR_USER_FAILURE":return e.merge({getAllSupportTicketForUserFailure:!0,getAllSupportTicketForUserFailureMsg:t.errorResponse.message||"Oooops!!! Something went wrong. Please Try Again Later.",getAllSupportTicketForUserRequesting:!1});case K:return e.merge({createSupportTicketSuccess:!1,createSupportTicketFailure:!1,createSupportTicketSuccessMsg:"",createSupportTicketFailureMsg:"",createSupportTicketRequesting:!0,createSupportTicketSuccessResponse:{}});case G:return e.merge({createSupportTicketSuccess:!0,createSupportTicketSuccessMsg:t.successResponse.message||"Success!!!",createSupportTicketRequesting:!1,createSupportTicketSuccessResponse:t.successResponse.data});case V:return e.merge({createSupportTicketFailure:!0,createSupportTicketRequesting:!1,createSupportTicketFailureMsg:t.errorResponse.message||"Oooops!!! Something went wrong. Please Try Again Later."});case W:return e.merge({fetchSupportTicketCategoryResponse:{},fetchSupportTicketCategorySuccess:!1,fetchSupportTicketCategoryFailure:!1,fetchSupportTicketCategorySuccessMsg:"",fetchSupportTicketCategoryFailureMsg:"",fetchSupportTicketCategoryRequesting:!0});case Y:var r=t.successResponse.data.map((function(e,t){return{key:t,text:Object.keys(e)[0],value:Object.values(e)[0]}}));return e.merge({fetchSupportTicketCategorySuccess:!0,fetchSupportTicketCategorySuccessMsg:"",fetchSupportTicketCategoryRequesting:!1,fetchSupportTicketCategoryResponse:r});case Q:return e.merge({fetchSupportTicketCategoryFailure:!0,fetchSupportTicketCategoryRequesting:!1,fetchSupportTicketCategoryFailureMsg:t.errorResponse.message||"Something went wrong. While fetching support ticket category. Please Try Again Later"});case"RESET_CREATE_SUPPORT_TICKET_TO_INITIAL_STATE":return e.merge({createSupportTicketSuccess:!1,createSupportTicketFailure:!1,createSupportTicketSuccessMsg:"",createSupportTicketFailureMsg:"",createSupportTicketRequesting:!1});case $:return e.merge({fetchTicketStatusOptionResponse:[],fetchTicketStatusOptionSuccess:!1,fetchTicketStatusOptionFailure:!1,fetchTicketStatusOptionSuccessMsg:"",fetchTicketStatusOptionFailureMsg:"",fetchTicketStatusOptionRequesting:!0});case z:var s=t.successResponse.data.map((function(e,t){return{key:t,text:Object.keys(e)[0],value:Object.values(e)[0]}}));return e.merge({fetchTicketStatusOptionSuccess:!0,fetchTicketStatusOptionSuccessMsg:"",fetchTicketStatusOptionRequesting:!1,fetchTicketStatusOptionResponse:s});case X:return e.merge({fetchTicketStatusOptionFailure:!0,fetchTicketStatusOptionFailureMsg:t.errorResponse.message||"Something went wrong. While fetching support ticket status option. Please Try Again Later",fetchTicketStatusOptionRequesting:!1});case Z:return e.merge({updateSupportTicketStatusSuccess:!1,updateSupportTicketStatusFailure:!1,updateSupportTicketStatusSuccessMsg:"",updateSupportTicketStatusFailureMsg:"",updateSupportTicketStatusRequesting:!0});case ee:return e.merge({updateSupportTicketStatusSuccess:!0,updateSupportTicketStatusRequesting:!1,updateSupportTicketStatusSuccessMsg:t.successResponse.message||"Updated Successfully"});case te:return e.merge({updateSupportTicketStatusFailure:!0,updateSupportTicketStatusFailureMsg:t.errorResponse.message||"Oooops Something Went Wrong. Please Try Again Later",updateSupportTicketStatusRequesting:!1});case re:return e.merge({deleteSupportTicketSuccess:!1,deleteSupportTicketFailure:!1,deleteSupportTicketSuccessMsg:"",deleteSupportTicketFailureMsg:"",deleteSupportTicketRequesting:!0});case se:return e.merge({deleteSupportTicketSuccess:!0,deleteSupportTicketRequesting:!1,deleteSupportTicketSuccessMsg:t.successResponse.message||"Deleted Successfully"});case ce:return e.merge({deleteSupportTicketFailure:!0,deleteSupportTicketFailureMsg:t.errorResponse.message||"Oooops Something Went Wrong. Please Try Again Later",deleteSupportTicketRequesting:!1});case ae:return e.merge({fetchAllSpecificTicketMessageResponse:[],fetchAllSpecificTicketMessageSuccess:!1,fetchAllSpecificTicketMessageFailure:!1,fetchAllSpecificTicketMessageSuccessMsg:"",fetchAllSpecificTicketMessageFailureMsg:"",fetchAllSpecificTicketMessageRequesting:!0});case"app/containers/UserDashboard/HelpDesk/FETCH_ALL_SPECIFIC_TICKET_MESSAGE_SUCCESS":return e.merge({fetchAllSpecificTicketMessageSuccess:!0,fetchAllSpecificTicketMessageSuccessMsg:"",fetchAllSpecificTicketMessageRequesting:!1,fetchAllSpecificTicketMessageResponse:t.successResponse.data});case"app/containers/UserDashboard/HelpDesk/FETCH_ALL_SPECIFIC_TICKET_MESSAGE_FAILURE":return e.merge({fetchAllSpecificTicketMessageFailure:!0,fetchAllSpecificTicketMessageFailureMsg:"",fetchAllSpecificTicketMessageRequesting:!1});case ue:var c=e.toJS().fetchAllSpecificTicketMessageResponse;return e.merge({fetchAllSpecificTicketMessageResponse:[].concat(_t(c),[{id:0===c.length?1:c[c.length-1].id+1,message:t.reqObj.message||"",ticket_id:t.reqObj.ticket_id,is_admin_message:!1,is_user_message:!0}]),replyChatSuccess:!1,replyChatFailure:!1,replyChatSuccessMsg:"",replyChatFailureMsg:"",replyChatRequesting:!0});case pe:var a=e.toJS().fetchAllSpecificTicketMessageResponse;return a.pop(),e.merge({fetchAllSpecificTicketMessageResponse:[].concat(_t(a),[Ot({},t.successResponse.data)]),replyChatSuccess:!0,replyChatSuccessMsg:"",replyChatRequesting:!1});case le:return e.merge({replyChatFailure:!0,replyChatFailureMsg:"",replyChatRequesting:!1});case ge:return e.merge({listenNewMessageResponse:[],listenNewMessageSuccess:!1,listenNewMessageFailure:!1,listenNewMessageSuccessMsg:"",listenNewMessageFailureMsg:"",listenNewMessageRequesting:!0});case Se:return e.merge({listenNewMessageResponse:[],fetchAllSpecificTicketMessageResponse:t.successResponse.data&&0===t.successResponse.data.length?e.toJS().fetchAllSpecificTicketMessageResponse:[].concat(_t(e.toJS().fetchAllSpecificTicketMessageResponse),_t(t.successResponse.data)),listenNewMessageSuccess:!0,listenNewMessageSuccessMsg:"",listenNewMessageRequesting:!1});case fe:return e.merge({listenNewMessageFailure:!0,listenNewMessageFailureMsg:"",listenNewMessageRequesting:!1});case ie:return e.merge({getTicketDetailByIdResponse:null,getTicketDetailByIdSuccess:!1,getTicketDetailByIdFailure:!1,getTicketDetailByIdSuccessMsg:"",getTicketDetailByIdFailureMsg:"",getTicketDetailByIdRequesting:!0});case oe:return e.merge({getTicketDetailByIdSuccess:!0,getTicketDetailByIdSuccessMsg:"",getTicketDetailByIdRequesting:!1,getTicketDetailByIdResponse:t.successResponse.data[0]});case ne:return e.merge({getTicketDetailByIdFailure:!0,getTicketDetailByIdFailureMsg:t.errorResponse.message||"Oooops Something Went Wrong. Please Try Again Later",getTicketDetailByIdRequesting:!1});default:return e}};function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t,r,s){Kt||(Kt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var c=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=s;else if(a>1){for(var i=new Array(a),o=0;o<a;o++)i[o]=arguments[o+3];t.children=i}if(t&&c)for(var n in c)void 0===t[n]&&(t[n]=c[n]);else t||(t=c||{});return{$$typeof:Kt,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cr(s.key),s)}}function Xt(e,t){return(Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=rr(e);if(t){var c=rr(this).constructor;r=Reflect.construct(s,arguments,c)}else r=s.apply(this,arguments);return er(this,r)}}function er(e,t){if(t&&("object"===Vt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t,r){return(t=cr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cr(e){var t=function(e,t){if("object"!==Vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!==Vt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vt(t)?t:String(t)}var ar=0,ir=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xt(e,t)}(a,e);var t,r,s,c=Zt(a);function a(){var e;$t(this,a);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return sr(tr(e=c.call.apply(c,[this].concat(r))),"state",{queryParams:{status:"",perpage:10,currentpage:1},isTicketStatusModalVisible:!1,isSpecificTicketChatModalVisible:!1,isSupportTicketDeleteModalVisible:!1,isCreateSupportTicketModalVisible:!1,supportTicketCategory:[],createSupportTicketDataObj:{subject:"",message:"",category:""},errors:{},updateTicketState:{status:"",ticket_id:""},ticketIdToChat:"",ticketIdToDelete:"",selectedTicketSubject:"",selectedTicketMessage:""}),sr(tr(e),"componentDidMount",(function(){var t=e.state.queryParams;e._fetchSupportTicketCategory(),e._fetchSupportTicketStatusOptions(),e.props.getAllSupportTicketForUserRequest(t);var r=new URLSearchParams(e.props.location.search).get("ticketId");r&&e._handleSpecificTickeChatModal(r)})),sr(tr(e),"componentDidUpdate",(function(t){var r=e.state.queryParams,s=new URLSearchParams(t.location.search),c=new URLSearchParams(e.props.location.search);if(c.get("ticketId")&&c.get("ticketId")!==s.get("ticketId")&&e._handleSpecificTickeChatModal(c.get("ticketId")),e.props.fetchSupportTicketCategoryFailureMsg!==t.fetchSupportTicketCategoryFailureMsg&&e.props.fetchSupportTicketCategoryFailure)T.toast.error(e.props.fetchSupportTicketCategoryFailureMsg);else if(e.props.createSupportTicketFailureMsg!==t.createSupportTicketFailureMsg&&e.props.createSupportTicketFailure)T.toast.error(e.props.createSupportTicketFailureMsg);else if(e.props.fetchTicketStatusOptionFailureMsg!==t.fetchTicketStatusOptionFailureMsg&&e.props.fetchTicketStatusOptionFailure)T.toast.error(e.props.fetchTicketStatusOptionFailureMsg);else if(e.props.updateSupportTicketStatusFailureMsg!==t.updateSupportTicketStatusFailureMsg&&e.props.updateSupportTicketStatusFailure)T.toast.error(e.props.updateSupportTicketStatusFailureMsg);else if(e.props.deleteSupportTicketFailureMsg!==t.deleteSupportTicketFailureMsg&&e.props.deleteSupportTicketFailure)T.toast.error(e.props.deleteSupportTicketFailureMsg);else{if(e.props.createSupportTicketSuccessMsg!==t.createSupportTicketSuccessMsg&&e.props.createSupportTicketSuccess)return T.toast.success(e.props.createSupportTicketSuccessMsg),void e.setState({createSupportTicketDataObj:{category:"",subject:"",message:""}});if(e.props.deleteSupportTicketSuccessMsg!==t.deleteSupportTicketSuccessMsg&&e.props.deleteSupportTicketSuccess)return T.toast.success(e.props.deleteSupportTicketSuccessMsg),e._handleDeleteSupportTicketModal(),void e.props.getAllSupportTicketForUserRequest(r);if(e.props.updateSupportTicketStatusSuccessMsg!==t.updateSupportTicketStatusSuccessMsg&&e.props.updateSupportTicketStatusSuccess)return T.toast.success(e.props.updateSupportTicketStatusSuccessMsg),e.props.getAllSupportTicketForUserRequest(r),void e._handleTicketStatusModal();e.props.fetchSupportTicketCategoryResponse!==t.fetchSupportTicketCategoryResponse&&e.props.fetchSupportTicketCategorySuccess&&e.setState({supportTicketCategory:e.props.fetchSupportTicketCategoryResponse.toJS()}),e.props.fetchAllSpecificTicketMessageSuccess&&e.props.fetchAllSpecificTicketMessageSuccess!==t.fetchAllSpecificTicketMessageSuccess&&""!==e.state.ticketIdToChat&&e._getNewMessage()}})),sr(tr(e),"_getNewMessage",(function(){ar=setInterval((function(){e.props.fetchAllSpecificTicketMessageResponse.toJS()&&0!==e.props.fetchAllSpecificTicketMessageResponse.toJS().length&&!e.props.replyChatRequesting&&e.props.listenNewMessageRequest({ticket_id:e.state.ticketIdToChat,message_id:e.props.fetchAllSpecificTicketMessageResponse.toJS()[e.props.fetchAllSpecificTicketMessageResponse.toJS().length-1].id}),e.props.fetchAllSpecificTicketMessageResponse.toJS()&&0===e.props.fetchAllSpecificTicketMessageResponse.toJS().length&&!e.props.replyChatRequesting&&e.props.listenFirstMessage(e.state.ticketIdToChat)}),3e3)})),sr(tr(e),"_fetchSupportTicketCategory",(function(){e.props.fetchSupportTicketCategoryRequest()})),sr(tr(e),"_fetchSupportTicketStatusOptions",(function(){e.props.fetchTicketStatusOptionRequest()})),sr(tr(e),"_handlePagination",(function(t){var r=e.state.queryParams;e.props.getAllSupportTicketForUserRequest(Qt(Qt({},r),{},{currentpage:t.currentPage}))})),sr(tr(e),"_onTicketStatusRequest",(function(t){e.props.getAllSupportTicketForUserRequest({status:t,perpage:10,currentpage:1}),e.setState({queryParams:{status:t,perpage:10,currentpage:1}})})),sr(tr(e),"_handleCreateSupportTicketModal",(function(){if(e.setState({isCreateSupportTicketModalVisible:!e.state.isCreateSupportTicketModalVisible}),e.props.resetCreateSupportTicketToInitialState(),e.props.createSupportTicketSuccess){var t=e.state.queryParams;e.props.getAllSupportTicketForUserRequest(t)}})),sr(tr(e),"_handleDeleteSupportTicketModal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({isSupportTicketDeleteModalVisible:!e.state.isSupportTicketDeleteModalVisible,ticketIdToDelete:t})})),sr(tr(e),"_handleSpecificTickeChatModal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({ticketIdToChat:t}),""===t&&clearInterval(ar),""!==t&&(e.props.fetchAllSpecificTicketMessageRequest(t),e.props.getTicketDetailByIdRequest({ticketId:t}))})),sr(tr(e),"_handleOnSupportTicketCategorySelect",(function(t){t.persist(),e.setState((function(e){return{createSupportTicketDataObj:Qt(Qt({},e.createSupportTicketDataObj),{},{category:t.target.value})}}))})),sr(tr(e),"_handleTicketStatusModal",(function(t,r){var s=e.state,c=s.isTicketStatusModalVisible,a=s.updateTicketState;c?e.setState({isTicketStatusModalVisible:!c,updateTicketState:{ticket_id:"",status:""}}):e.setState({isTicketStatusModalVisible:!c,updateTicketState:Qt(Qt({},a),{},{ticket_id:t,status:r})})})),sr(tr(e),"_handleOnTicketStatusSelect",(function(t){t.persist(),e.setState((function(e){return{updateTicketState:Qt(Qt({},e.updateTicketState),{},{status:t.target.value})}}))})),sr(tr(e),"handleChange",(function(t){t.persist(),delete e.state.errors[t.target.name],e.setState((function(e){return{createSupportTicketDataObj:Qt(Qt({},e.createSupportTicketDataObj),{},sr({},t.target.name,t.target.value))}}))})),sr(tr(e),"validate",(function(){var t=e.state.createSupportTicketDataObj,r={};return t.subject||(r.subject="Can't be blank"),t.message||(r.message="Can't be blank"),r})),sr(tr(e),"handleSubmit",(function(t){t.preventDefault();var r=e.props.createSupportTicketRequest,s=e.state.createSupportTicketDataObj,c=e.validate();(e.setState({errors:c}),0===Object.keys(c).length)&&r(s,e.props.userInfo.toJS().user_id)})),sr(tr(e),"handleUpdateStatus",(function(t){t.preventDefault();var r=e.state.updateTicketState;e.props.updateSupportTicketStatusRequest(r)})),sr(tr(e),"_deleteTicket",(function(){var t=e.state.ticketIdToDelete;e.props.deleteSupportTicketRequest(t)})),sr(tr(e),"_handleOnMessageType",(function(t,r){e.setState({typedMessage:r.value})})),sr(tr(e),"_handleOnKeyPress",(function(t){"Enter"===t.key&&e._onReply()})),sr(tr(e),"_onReply",(function(){var t=e.state,r=t.ticketIdToChat,s=t.typedMessage;""!==e.state.typedMessage&&(e.props.replyChatRequest({ticket_id:r,message:s,is_user_message:1}),e.setState({typedMessage:""}))})),sr(tr(e),"componentWillUnmount",(function(){e._handleSpecificTickeChatModal("")})),e}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.state,r=t.errors,s=t.supportTicketCategory,c=t.queryParams.perpage,a=t.createSupportTicketDataObj,i=t.isTicketStatusModalVisible,o=t.isSpecificTicketChatModalVisible,n=t.isCreateSupportTicketModalVisible,u=t.isSupportTicketDeleteModalVisible,p=this.props,l=p.createSupportTicketSuccess,S=p.createSupportTicketRequesting,f=p.deleteSupportTicketRequesting,T=p.fetchTicketStatusOptionResponse,h=p.fetchTicketStatusOptionRequesting,j=p.updateSupportTicketStatusRequesting,F=p.getAllSupportTicketForUserRequesting,E=this.props.getAllSupportTicketForUserResponse.toJS()&&this.props.getAllSupportTicketForUserResponse.toJS().data&&this.props.getAllSupportTicketForUserResponse.toJS().data.length>0?this.props.getAllSupportTicketForUserResponse.toJS().data.map((function(t){t.user_id;var r=t.category,s=t.ticket_id,c=t.subject,a=t.status;return t.message,[s,r,c,Wt(k.a,"pending"===a?{color:"red"}:"resolve"===a?{color:"green"}:{color:"blue"},void 0,a),g.a.createElement(g.a.Fragment,null,Wt(b.a,{circular:!0,color:"blue",icon:"edit",onClick:function(){return e._handleTicketStatusModal(s,a)}}),Wt(b.a,{circular:!0,color:"green",icon:"chat",onClick:function(){return e._handleSpecificTickeChatModal(s)}}),Wt(b.a,{circular:!0,color:"red",icon:"close",onClick:function(){return e._handleDeleteSupportTicketModal(s)}}))]})):[];return Wt("div",{},void 0,jt||(jt=Wt(d.Helmet,{},void 0,Wt("title",{},void 0,"Help Desk"),Wt("meta",{name:"description",content:"Description of Help Desk"}))),Wt("div",{className:"d-flex mb-4 "},void 0,Ft||(Ft=Wt("h1",{},void 0,"Help Desk")),Wt("div",{className:"ml-auto"},void 0,Wt(y.a,{closeIcon:!0,size:"mini",open:n,trigger:""===this.state.ticketIdToChat?Wt(b.a,{onClick:this._handleCreateSupportTicketModal},void 0,"Raise a Ticket"):"",onClose:this._handleCreateSupportTicketModal},void 0,Et||(Et=Wt(v.a,{icon:"ticket",content:"Raise a Ticket"})),Wt(y.a.Content,{},void 0,!l&&Wt(m.a,{onSubmit:this.handleSubmit},void 0,Wt(m.a.Field,{label:"Category",control:"select",onChange:this._handleOnSupportTicketCategorySelect},void 0,At||(At=Wt("option",{hidden:!0,value:""},void 0,"Select Category")),Dt||(Dt=Wt("option",{disabled:!0,default:!0},void 0,"Select Category")),s&&s.length>0&&s.map((function(e,t){return Wt("option",{value:e.value},t,e.text)}))),Wt(m.a.Field,{},void 0,Ut||(Ut=Wt("label",{},void 0,"Subject")),Wt(q.a,{type:"text",name:"subject",placeholder:"Subject",className:"form-control",value:a.subject,onChange:this.handleChange,error:r.subject})),Wt(m.a.Field,{},void 0,wt||(wt=Wt("label",{},void 0,"Message")),Wt(P.a,{name:"message",value:a.message,error:r.message,onChange:this.handleChange,placeholder:"Write down the issue..."})),Wt(b.a,{type:"submit",loading:S,disabled:""===a.category||!a.message||!a.subject||S},void 0,"Create ticket")),l&&Wt("div",{},void 0,It||(It=Wt(O.a,{positive:!0},void 0,Wt(O.a.Header,{},void 0,"Thank You for sharing your issue"),Wt("p",{},void 0,"Due to the increased workload, the average reply time is 2-3 days. We appreciate your understanding."))),Wt("div",{},void 0,Pt||(Pt=Wt("b",{},void 0,"Ticket Number:")),this.props.createSupportTicketSuccessResponse.toJS()&&this.props.createSupportTicketSuccessResponse.toJS().ticket_id)))),Wt(y.a,{size:"mini",open:i},void 0,qt||(qt=Wt(v.a,{icon:"ticket",content:"Update Ticket Status"})),Wt(y.a.Content,{},void 0,Wt(m.a,{onSubmit:this.handleUpdateStatus},void 0,Wt(m.a.Field,{label:"Ticket Status",control:"select",onChange:this._handleOnTicketStatusSelect},void 0,T.toJS()&&T.toJS().length>0&&T.toJS().map((function(t,r){return Wt("option",{value:t.value,selected:e.state.updateTicketState.status===t.value},r,t.text)}))),Wt(b.a,{type:"submit",loading:h||j,disabled:h||j},void 0,"Update"),Wt(b.a,{onClick:this._handleTicketStatusModal,disabled:j},void 0,"Cancel")))),Wt(y.a,{size:"large",open:u},void 0,Lt||(Lt=Wt(v.a,{icon:"archive",content:"Delete Ticket"})),Nt||(Nt=Wt(y.a.Content,{scrolling:!0},void 0,Wt("p",{},void 0,"Are you sure. You want to delete ticket?"))),Wt(y.a.Actions,{},void 0,Wt(b.a,{color:"red",onClick:this._handleDeleteSupportTicketModal,disabled:f},void 0,xt||(xt=Wt(R.a,{name:"remove"}))," No"),Wt(b.a,{color:"green",onClick:this._deleteTicket,loading:f,disabled:f},void 0,Ht||(Ht=Wt(R.a,{name:"checkmark"}))," Yes"))),Wt(y.a,{size:"large",open:o},void 0,Wt(v.a,{icon:"chat",content:"TicketId: ".concat(this.state.ticketIdToChat)}),Wt(y.a.Content,{scrolling:!0},void 0,Wt(D,{onReply:this._onReply,handleOnMessageType:this._handleOnMessageType,messageList:this.props.fetchAllSpecificTicketMessageResponse.toJS(),loadingMessage:this.props.fetchAllSpecificTicketMessageRequesting})),Wt(y.a.Actions,{},void 0,Wt(_.a,{},void 0,Wt(_.a.Row,{},void 0,Wt(_.a.Column,{width:12},void 0,Wt(M.a,{fluid:!0,iconPosition:"left",placeholder:"Reply",icon:"paper plane outline",onChange:this._handleOnMessageType,value:this.state.typedMessage||""})),Wt(_.a.Column,{width:2},void 0,Wt(b.a,{disabled:this.props.fetchAllSpecificTicketMessageRequesting,onClick:this._onReply},void 0,"Reply")),Wt(_.a.Column,{width:2},void 0,Wt(b.a,{color:"green",onClick:function(){return e._handleSpecificTickeChatModal()}},void 0,"Close")))))))),""===this.state.ticketIdToChat?Wt("div",{},void 0,Wt("div",{className:"ui pointing secondary menu overflow__x"},void 0,Wt("a",{className:"".concat(""===this.state.queryParams.status?"active":""," item "),onClick:function(){return e._onTicketStatusRequest("")}},void 0,"All Ticket"),Wt("a",{className:"".concat("pending"===this.state.queryParams.status?"active":""," item "),onClick:function(){return e._onTicketStatusRequest("pending")}},void 0,"Pending Ticket"),Wt("a",{className:"".concat("reopen"===this.state.queryParams.status?"active":""," item "),onClick:function(){return e._onTicketStatusRequest("reopen")}},void 0,"Reopen Ticket"),Wt("a",{className:"".concat("resolve"===this.state.queryParams.status?"active":""," item "),onClick:function(){return e._onTicketStatusRequest("resolve")}},void 0,"Resolved Ticket")),Wt("div",{className:"ui segment active tab"},void 0," ",Wt(I,{count:this.props.getAllSupportTicketForUserResponse.toJS()&&this.props.getAllSupportTicketForUserResponse.toJS().pagination_data&&this.props.getAllSupportTicketForUserResponse.toJS().pagination_data.total_count?this.props.getAllSupportTicketForUserResponse.toJS().pagination_data.total_count:0,pagelimit:c,tableHead:["Ticket Number","Category","Subject","Status","Action"],tableData:E,handlePagination:this._handlePagination,getAllSupportTicketForUserRequesting:F}))):Wt("div",{},void 0,Wt(b.a,{onClick:function(){return e._handleSpecificTickeChatModal("")}},void 0,"Back to List"),Wt(C.a,{trigger:Bt||(Bt=Wt(R.a,{circular:!0,color:"blue",className:"mx-2",name:"ticket alternate",size:"large"})),flowing:!0,hoverable:!0},void 0,Wt(_.a,{},void 0,Wt(_.a.Column,{},void 0,Jt||(Jt=Wt(v.a,{},void 0,"Ticket id:")),Wt("span",{},void 0,this.state.ticketIdToChat)))),Wt(_.a,{className:"mt-3"},void 0,Wt(_.a.Column,{mobile:16,tablet:8,computer:16},void 0,this.props.getTicketDetailByIdResponse&&this.props.getTicketDetailByIdResponse.toJS()&&Wt(O.a,{positive:!0,icon:"mail outline",header:"Subject: ".concat(this.props.getTicketDetailByIdResponse.toJS()&&this.props.getTicketDetailByIdResponse.toJS().subject),content:"Message: ".concat(this.props.getTicketDetailByIdResponse.toJS()&&this.props.getTicketDetailByIdResponse.toJS().message)}),Wt(D,{handleOnKeyPress:this._handleOnKeyPress,onReply:this._onReply,typedMessage:this.state.typedMessage,handleOnMessageType:this._handleOnMessageType,messageList:this.props.fetchAllSpecificTicketMessageResponse.toJS(),loadingMessage:this.props.fetchAllSpecificTicketMessageRequesting})))))}}])&&zt(t.prototype,r),s&&zt(t,s),Object.defineProperty(t,"prototype",{writable:!1}),a}(g.a.Component),or=Object(h.b)({user:Object(H.d)(),userInfo:Object(H.e)(),createSupportTicketSuccess:Object(h.a)(x,(function(e){return e.get("createSupportTicketSuccess")})),createSupportTicketFailure:Object(h.a)(x,(function(e){return e.get("createSupportTicketFailure")})),createSupportTicketSuccessMsg:Object(h.a)(x,(function(e){return e.get("createSupportTicketSuccessMsg")})),createSupportTicketFailureMsg:Object(h.a)(x,(function(e){return e.get("createSupportTicketFailureMsg")})),createSupportTicketRequesting:Object(h.a)(x,(function(e){return e.get("createSupportTicketRequesting")})),createSupportTicketSuccessResponse:Object(h.a)(x,(function(e){return e.get("createSupportTicketSuccessResponse")})),getAllSupportTicketForUserSuccess:Object(h.a)(x,(function(e){return e.get("getAllSupportTicketForUserSuccess")})),getAllSupportTicketForUserFailure:Object(h.a)(x,(function(e){return e.get("getAllSupportTicketForUserFailure")})),getAllSupportTicketForUserResponse:Object(h.a)(x,(function(e){return e.get("getAllSupportTicketForUserResponse")})),getAllSupportTicketForUserSuccessMsg:Object(h.a)(x,(function(e){return e.get("getAllSupportTicketForUserSuccessMsg")})),getAllSupportTicketForUserFailureMsg:Object(h.a)(x,(function(e){return e.get("getAllSupportTicketForUserFailureMsg")})),getAllSupportTicketForUserRequesting:Object(h.a)(x,(function(e){return e.get("getAllSupportTicketForUserRequesting")})),fetchSupportTicketCategorySuccess:Object(h.a)(x,(function(e){return e.get("fetchSupportTicketCategorySuccess")})),fetchSupportTicketCategoryFailure:Object(h.a)(x,(function(e){return e.get("fetchSupportTicketCategoryFailure")})),fetchSupportTicketCategoryResponse:Object(h.a)(x,(function(e){return e.get("fetchSupportTicketCategoryResponse")})),fetchSupportTicketCategorySuccessMsg:Object(h.a)(x,(function(e){return e.get("fetchSupportTicketCategorySuccessMsg")})),fetchSupportTicketCategoryFailureMsg:Object(h.a)(x,(function(e){return e.get("fetchSupportTicketCategoryFailureMsg")})),fetchSupportTicketCategoryRequesting:Object(h.a)(x,(function(e){return e.get("fetchSupportTicketCategoryRequesting")})),fetchTicketStatusOptionSuccess:Object(h.a)(x,(function(e){return e.get("fetchTicketStatusOptionSuccess")})),fetchTicketStatusOptionFailure:Object(h.a)(x,(function(e){return e.get("fetchTicketStatusOptionFailure")})),fetchTicketStatusOptionResponse:Object(h.a)(x,(function(e){return e.get("fetchTicketStatusOptionResponse")})),fetchTicketStatusOptionSuccessMsg:Object(h.a)(x,(function(e){return e.get("fetchTicketStatusOptionSuccessMsg")})),fetchTicketStatusOptionFailureMsg:Object(h.a)(x,(function(e){return e.get("fetchTicketStatusOptionFailureMsg")})),fetchTicketStatusOptionRequesting:Object(h.a)(x,(function(e){return e.get("fetchTicketStatusOptionRequesting")})),updateSupportTicketStatusSuccess:Object(h.a)(x,(function(e){return e.get("updateSupportTicketStatusSuccess")})),updateSupportTicketStatusFailure:Object(h.a)(x,(function(e){return e.get("updateSupportTicketStatusFailure")})),updateSupportTicketStatusSuccessMsg:Object(h.a)(x,(function(e){return e.get("updateSupportTicketStatusSuccessMsg")})),updateSupportTicketStatusFailureMsg:Object(h.a)(x,(function(e){return e.get("updateSupportTicketStatusFailureMsg")})),updateSupportTicketStatusRequesting:Object(h.a)(x,(function(e){return e.get("updateSupportTicketStatusRequesting")})),deleteSupportTicketSuccess:Object(h.a)(x,(function(e){return e.get("deleteSupportTicketSuccess")})),deleteSupportTicketFailure:Object(h.a)(x,(function(e){return e.get("deleteSupportTicketFailure")})),deleteSupportTicketSuccessMsg:Object(h.a)(x,(function(e){return e.get("deleteSupportTicketSuccessMsg")})),deleteSupportTicketFailureMsg:Object(h.a)(x,(function(e){return e.get("deleteSupportTicketFailureMsg")})),deleteSupportTicketRequesting:Object(h.a)(x,(function(e){return e.get("deleteSupportTicketRequesting")})),fetchAllSpecificTicketMessageResponse:Object(h.a)(x,(function(e){return e.get("fetchAllSpecificTicketMessageResponse")})),fetchAllSpecificTicketMessageRequesting:Object(h.a)(x,(function(e){return e.get("fetchAllSpecificTicketMessageRequesting")})),fetchAllSpecificTicketMessageSuccess:Object(h.a)(x,(function(e){return e.get("fetchAllSpecificTicketMessageSuccess")})),fetchAllSpecificTicketMessageSuccessMsg:Object(h.a)(x,(function(e){return e.get("fetchAllSpecificTicketMessageSuccessMsg")})),fetchAllSpecificTicketMessageFailure:Object(h.a)(x,(function(e){return e.get("fetchAllSpecificTicketMessageFailure")})),fetchAllSpecificTicketMessageFailureMsg:Object(h.a)(x,(function(e){return e.get("fetchAllSpecificTicketMessageFailureMsg")})),replyChatRequesting:Object(h.a)(x,(function(e){return e.get("replyChatRequesting")})),replyChatSuccess:Object(h.a)(x,(function(e){return e.get("replyChatSuccess")})),replyChatSuccessMsg:Object(h.a)(x,(function(e){return e.get("replyChatSuccessMsg")})),replyChatFailure:Object(h.a)(x,(function(e){return e.get("replyChatFailure")})),replyChatFailureMsg:Object(h.a)(x,(function(e){return e.get("replyChatFailureMsg")})),getTicketDetailByIdSuccess:Object(h.a)(x,(function(e){return e.get("getTicketDetailByIdSuccess")})),getTicketDetailByIdFailure:Object(h.a)(x,(function(e){return e.get("getTicketDetailByIdFailure")})),getTicketDetailByIdResponse:Object(h.a)(x,(function(e){return e.get("getTicketDetailByIdResponse")})),getTicketDetailByIdSuccessMsg:Object(h.a)(x,(function(e){return e.get("getTicketDetailByIdSuccessMsg")})),getTicketDetailByIdFailureMsg:Object(h.a)(x,(function(e){return e.get("getTicketDetailByIdFailureMsg")})),getTicketDetailByIdRequesting:Object(h.a)(x,(function(e){return e.get("getTicketDetailByIdRequesting")}))}),nr=Object(f.connect)(or,(function(e){return{getAllSupportTicketForUserRequest:function(t){return e(de(t))},fetchSupportTicketCategoryRequest:function(){return e(ve())},createSupportTicketRequest:function(t,r){return e(ke(t,r))},resetCreateSupportTicketToInitialState:function(){return e(Re())},fetchTicketStatusOptionRequest:function(){return e(_e())},updateSupportTicketStatusRequest:function(t){return e(je(t))},deleteSupportTicketRequest:function(t){return e(Ae(t))},fetchAllSpecificTicketMessageRequest:function(t){return e(we(t))},listenNewMessageRequest:function(t){return e(xe(t))},replyChatRequest:function(t){return e(qe(t))},listenFirstMessage:function(t){return e(Je(t))},getTicketDetailByIdRequest:function(t){return e(Ke(t))}}})),ur=Object(N.a)({key:"helpDesk",reducer:Gt}),pr=Object(L.a)({key:"helpDesk",saga:bt});t.default=Object(S.compose)(ur,pr,nr)(ir)}}]);